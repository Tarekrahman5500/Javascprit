<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clion_Marge_Objects</title>
</head>
<body>
<script>
    "use strict";
    let user = {
        name: "John",
        age: 30
    };

    let clone = {}; // the new empty object

    // let's copy all user properties into it
    for (let key in user) {
        clone[key] = user[key];
    }

    // now clone is a fully independent clone
    clone.name = "Pete"; // changed the data in it

    alert(user.name); // still John in the original object

    let permissions1 = {canView: true};
    let permissions2 = {canEdit: true};

    // copies all properties from permissions1 and permissions2 into user
    Object.assign(user, permissions1, permissions2);
    for (let key in user) {
        alert(user[key]);
    }
    // now user = { name: "John", age: "30", canView: true, canEdit: true }
    // overwrite name, add isAdmin
    Object.assign(user, { name: "Pete", isAdmin: true });
    let clone1 = Object.assign({}, user);
    user = {
        name: "John",
        sizes: {
            height: 182,
            width: 50
        }
    };

    alert( user.sizes.height ); // 182
    alert( user.sizes === clone.sizes ); // true, same object


    // user and clone share sizes
    user.sizes.width++;       // change a property from one place
    alert(clone.sizes.width); // 51, see the result from the other one
    const user = {
        name: "John"
    };

    // works
    user.name = "Pete";

    // error
    //user = 123;
    let salaries = {
        John: 100,
        Ann: 160,
        Pete: 130
    };

    let sum = 0;
    for (let key in salaries) {
        sum += salaries[key];
    }

    alert(sum); // 390
</script>
</body>
</html>